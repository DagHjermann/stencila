<!DOCTYPE html>
<html>
  <head>
    <title>Stencila web development server</title>
    <meta charset="UTF-8">
  </head>
  <style type="text/css">
    body {
        font-family: mono;
        line-height: 1.2em;
        padding: 2em;
    }
    h1 {
        font-size: 1.2em;
    }
    main {
        max-width: 50em;
        margin-left: auto;
        margin-right: auto;
    }
  </style>
  <body>
    <main>
        <p>
            This is the Stencila development server for the `web` module.
        <p>

        <h1>Bundled JS and CSS</h1>
        <p>
            Bundles and compiles Javascript and CSS from local source files for convenience during development.
        </p>

        <h1>Static examples</h1>
        <p>
            Static HTML files that mimic the structure of Stencila components are available:
        <p>
        <ul>
            <li>Stencil: <a href="/examples/a/">http://localhost:5000/examples/a/</a></li>
            <li>Sheet: <a href="/examples/b/">http://localhost:5000/examples/b/</a></li>
            <li><a href="/examples/sheet-with-error/">http://localhost:5000/examples/sheet-with-error/</a></li>
        </ul>

        <h1>Upstream proxy</h1>
        <p>
            All other requests are proxied to an upstream server, by default https://localhost:7373 (a locally running Stencila session) but overridable at the command line e.g. <code>node server.js https://stenci.la</code>.
            This allows you to test the JS and SCSS using live Stencila components. The Javascript and CSS still gets generated on the fly from the local source but everything else gets passed on to the backend session. Make sure you add the trailing slash to avoid a redirect from the upstream e.g.
        <p>
        <ul>
            <li><a href="/demo/stencils/simple-r/">http://localhost:5000/demo/stencils/simple-r/</a></li>
            <li><a href="/demo/sheets/simple-r/">http://localhost:5000/demo/sheets/simple-r/</a></li>
            <li><a href="/demo/sheets/iris/">http://localhost:5000/demo/sheets/iris/</a></li>
        </ul>
    </main>
  </body>
</html>
