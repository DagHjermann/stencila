/**
 * Stencila Document content
 * 
 * These styles are apply to the `main#content` elem of the document's "plain" HTML
 * and to the `div[data-id=content]` elem that is generated by the `VisualEditor`.
 * Selectors often have two rows reflecting each of these applications.
 */

@import '../shared/math/index';

@mixin annotation($hue) {
	padding: 1px 0;
	background: hsl($hue,100%,95%);
	border-bottom: 1px solid hsl($hue,100%,90%);
	color: hsl($hue,100%,65%);
}
$link-hue: 230;
$code-hue: 0;
$print-hue: 93;


// Style when "plain" HTML
#content {
	/** 
	 * Do a reset so that elements have the same styles in "plain" HTML and 
	 * in the editor (defined below) e.g. `p` and `div.sc-paragraph` look the same. 
	 * Some of these resets interfere with ACE Editor (and potentially other components) 
	 * so don't apply editor elemtent.
	 */
	@extend .reset;
}

// Style shared between "plain" HTML and `VisualEditor`
#content,
.sc-visual-editor [data-id=content] {

	max-width: 50em;
	margin-left: auto;
	margin-right: auto;

	padding: 1em;

	font-family: $sans-font-family;
	line-height: 1.5em;
	text-align: justify;
	color: #333333;

	p,
	.sc-paragraph {
		padding-bottom: 1em;
	}

	em,
	.sc-emphasis {
		font-style: italic;
	}

	strong,
	.sc-strong {
		font-weight: bold;
	}

	sub,
	.sc-subscript {
	 	vertical-align: sub;
	 	font-size: smaller;
	}

	sup,
	.sc-superscript {
	  	vertical-align: super;
	 	font-size: smaller;
	}

	a,
	.sc-link {
		color: hsl($link-hue,100%,65%);
		text-decoration: none;
	}

	code,
	.sc-code {
		// Use a shaded background but don't colour text
		// so that a `code` node can also be a `link`
		padding: 1px 0;
		background: hsl(0,0%,93%);
		border-bottom: 1px solid hsl(0,0%,90%);
		font-family: $mono-font-family;
	}

	h1, h2, h3, h4, h5, h6,
	.sc-heading {
		font-weight: bold;
	}

	h1,
	.sc-heading.sm-level-1 {
		font-size: 1.3em;
	}

	h2,
	.sc-heading.sm-level-2 {
		font-size: 1.2em;
	}

	h3,
	.sc-heading.sm-level-3 {
		font-size: 1.1em;
	}

	img,
	.sc-image {
	  position: relative;
	  max-width: 100%;
	  display: block;
	  margin: 0px auto;
	}

	blockquote,
	.sc-blockquote {
		margin-bottom: 20px;
		border: 0 solid #CCC;
		border-width: 0 2px;
		padding: 0 20px;
		font-style: italic;
	}

	li,
	.sc-list-item {
	  margin: 0 0 0 1em;
	  position: relative;

	  &.sm-unordered:before {
		position: absolute;
		content: "â€¢";
		left: -20px;
	  }
	}

	// Elements for which there is a style in `nodes` folder

	@import 'nodes/title/title';
	@import 'nodes/summary/summary';

	@import 'nodes/math/math';
	@import 'nodes/codeblock/codeblock';
	
	@import 'nodes/mark/mark';
	@import 'nodes/discussion/discussion';
	@import 'nodes/comment/comment';

	@import 'nodes/default/default';
}

// Specific styling for content
// when in the `VisualEditor`
.sc-visual-editor [data-id=content] {

	// No outline on editable nodes
	&,
	[contenteditable="true"] {
		outline: none;
	}

	&.sm-reveal {

		.sc-print {
			@include annotation($print-hue);
			min-width: 2em;
		}

	}

	&.sm-edit {

		.sc-inline-node.sm-math.sm-selected,
		.sc-inline-node.sm-math.sm-selected .katex-display {
			background: #BBB;
		}

	}
}
